<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Benchmarks</title>
</head>
<body class="yui3-skin-sam">
    <p>This file demostrates a Benchmark.js test suite running outside of yui-benchmark.</p>
    <p>Click the button below and see the results logged in your console.</p>
    <p><button id="start">Start Benchmarks</button></p>
    <div id="container"></div>
    <script src="../node_modules/benchmark/benchmark.js"></script>
    <script src="../../yui3/build/yui/yui.js"></script>
    <script>
    YUI({
        modules: {
            'benchmarkjs-suite': {
                fullpath: 'benchmarkjs-suite.js',
                requires: ['scrollview-base']
            },
            'benchmarkjs-app-suite': {
                fullpath: 'benchmarkjs-app-suite.js',
                requires: ['app']
            }
        }
    }).use('benchmarkjs-suite', 'node', function (Y) {

        var suite = Y.BenchmarkSuite,
            start = Y.one('#start');

        suite.on('start', function () {
            start.set('disabled', true);
            Y.log('Starting benchmarks.');
        });

        suite.on('cycle', function () {
            console.log('cycle');
        });

        suite.on('complete', function () {
            var test;

            // Dump the results
            while (test = suite.shift()) {
                console.log(test.name + ' @ ' + test.hz + ' ops/sec, Â±' + test.stats.rme.toFixed(2) + '%');
            }

            start.set('disabled', false);
            Y.log('Finished.');
        });

        start.on('click', function () {
            suite.run({async:true});
        });

    });
    </script>
</body>
</html>
